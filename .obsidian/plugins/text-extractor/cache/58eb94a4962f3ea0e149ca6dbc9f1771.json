{"path":".obsidian/plugins/text-extractor/cache/58eb94a4962f3ea0e149ca6dbc9f1771.json","text":"CP S C 317 Co m put er N e t w o r ki ng Ap p l i c a t i o n La y e r DNS Ma r y a m R . A l i a ba di mr a i y a t a @ c s . u b c . c a 1 CP S C 3 1 7 – Co m p u t er N e t w o r k i n g : Ap p l i c a t i o n La y e r - DN S Ma r y a m R . A l i a b a d i RE AD I N G • Re a d i n g : 2 . 4 2 CP S C 3 1 7 – Co m p u t er N e t w o r k i n g : Ap p l i c a t i o n La y e r - DN S Ma r y a m R . A l i a b a d i Le a r n i n g Goa l s D o m a in N a m e S e r v ic e ( D N S ) • De f in e t h e p u r p o s e an d m aj o r d e s ig n g o als o f DN S • F o r e a c h d e s i g n g o a l , d e s c r i b e t h e s t r a t e g y / t e c h n o l o g y / d e s i g n a p p r o a c h u s e d t o a d d r e s s th e p r o b l e m • De f in e t h e p u r p o s e o f t h e v ar io u s s e r v e r s in t h e h ie r ar c h y o f n am e s e r v e r s • T r a c e h o w D N S r e s o l v e s a n a m e t o a n I P a d d r e s s • De s c r ib e t h e d if f e r e n t r e s o u r c e r e c o r d s r e t u r n e d b y a DN S s e r v e r • In t e rpr e t t he in f o rm a t io n r e t urne d b y dig o r dis pla y e d b y wi r e sh a r k . • Ap p l y th e i n f o r m a ti o n r e tu r n e d b y d i g t o d e t e r m i n e th e n e x t s e r v e r t o c o n t a c t o r t o de t e rm i ne t he f i na l a ns w e r 3 CP S C 3 1 7 – Co m p u t er N e t w o r k i n g : Ap p l i c a t i o n La y e r - DN S Ma r y a m R . A l i a b a d i Na m i n g a n d Ne t w or k St r u c t u r e • H o w d o w e k n o w w h i c h d e s t i n a t i o n I P a d d r e s s t o us e ? • Pr o b l em s : • Hu ma n s h a v e a h a r d t i me r ememb er i n g n u mb er s • Ad d r e s s e s c a n c h a n g e • S o l u t i o n : M a p u s e r - f r i e n d l y n a m e s t o I P ad d r e s s e s • Na mes a r e ea s i er t o r ememb er • Na mes c a n ma s k a d d r es s c h a n g es • D o m a i n N a m e S y s t e m ( D N S ) 4 198.162.1.10:80 w w w . st u d e n t s. c s. u b c . c a : 8 0 CP S C 3 1 7 – Co m p u t er N e t w o r k i n g : Ap p l i c a t i o n La y e r - DN S Ma r y a m R . A l i a b a d i Dom a i n Na m e • A do m a i n na m e is an id e n t ific a t io n s t r in g th a t d e f i n e s a r e a l m of a d m i n i s t r a t i v e a u t o n o m y , a u t h o r i t y o r c o n t r o l w i t h i n t h e In t e r n e t . • Do m a i n n a m e s a r e f o r m e d b y t h e r u l e s a n d p r o ce d u r e s o f t h e Do m a i n Na m e S y s t e m (D N S). 5 CP S C 3 1 7 – Co m p u t er N e t w o r k i n g : Ap p l i c a t i o n La y e r - DN S Ma r y a m R . A l i a b a d i Wh a t i s D N S ? • A di s t r i but e d da t a ba se im p le m e n t e d b y a h ie r ar c h y o f m an y n am e se r v e r s • An ap p l i c a ti o n - la y e r p r o t o c o l use d b y ho s t s t o c o m m uni c a t e w i t h na m e se r v e r s t o re s o l v e na m e s ( t r a nsl a t e na m e s t o a ddr e sse s) 6 CP S C 3 1 7 – Co m p u t er N e t w o r k i n g : Ap p l i c a t i o n La y e r - DN S Ma r y a m R . A l i a b a d i DNS G oa l s ( d e s i gn ch a l l e n g e s ) • S c a l e ( n a m e s , u s e r s , u p d a t e s , e t c . ) • 3 6 4 . 6 m i l l i o n do m a i n na m e r e g i s t r a t i o ns ( S e p t e m be r 2 0 2 1 ) • E a s e o f m a n a g e m e n t ( u n i q u e n e s s o f n a m e s , e t c . ) • W ho de c i de s i f c s . ubc . c a c a n na m e a ho s t “ s t ude n t s ” ? • A v a i l a b i l i t y a n d c o n s i s t e n c y a n d s e c u ri t y • I s t he r e o nl y o ne a ns w e r f o r t he que s t i o n: “ W ha t i s t he I P a ddr e s s of w w w . c s . ubc . c a ? ” ? H o w do w e e ns ur e t hi s ? • P e rf o rm a n c e • O pe nD N S , C l o udf l a r e e a c h s e r v e ~ 1 0 0 bi l l i o n r e que s t s pe r da y ( > 1 m i l l i o n pe r s e c o nd) 7 So lu tio n : § H i e r a r c h i c a l d e si g n § Ca c h in g § Re p l i c a t i o n CP S C 3 1 7 – Co m p u t er N e t w o r k i n g : Ap p l i c a t i o n La y e r - DN S Ma r y a m R . A l i a b a d i A h i e ra r c h y o f N a m e S E R V E R S 9 Ro o t ca co m or g ub c. ca sf u . c a ib m . c o m c s. u b c . c a ece. ubc. ca st u d e n t s. c s. u b c . c a To p - le v e l d o m a in s e r v e r Au th o r i tati v e n am e s er v er Au th o r i tati v e n am e s er v er In d i v i d u a l ma c h i n e Y o u r l o c a l D N S se r ve r (c a c h e d d a ta ) N a m e se r ve r s st o r e s m a p p i n g o f n e x t l e ve l d o m a i n a n d I P a d d r e sse s CP S C 3 1 7 – Co m p u t er N e t w o r k i n g : Ap p l i c a t i o n La y e r - DN S Ma r y a m R . A l i a b a d i D N S : R o o t n a m e s e r v e rs 10 13 r o o t nam e se r ve r s w o r l d w i d e b U S C - I S I M a r i n a d e l R e y, C A l I C A N N L o s A n g e l e s, C A e N A S A M t V i ew , C A f In te r n e t S o ftw a r e C . P a l o Al to, C A ( and 17 o t h e r l o ca t i o n s) i A u t o n o m i ca , S t o ckh o l m ( p l u s 3 o t h e r l o ca t i o n s) k R I P E L o n d o n ( a l so A m st e r d a m , F r a n kf u r t ) m W I D E T o kyo a V e r i si g n , D u l l e s, V A c C o g e n t , H e r n d o n , V A ( a l so L o s A n g e l e s) d U M a r yl a n d C o l l e g e P a r k, M D g U S D oD V i enna, V A h A R L A ber deen, M D j V e r i si g n , ( 1 1 l o ca t i o n s) CP S C 3 1 7 – Co m p u t er N e t w o r k i n g : Ap p l i c a t i o n La y e r - DN S Ma r y a m R . A l i a b a d i T L D a n d A u t h o r i t a t i v e S e r v e rs • To p - le v e l d o m ain ( T L D ) s e r v e r s : re s p o n s i b l e f o r d o m a i n s e n d i n g i n • . c o m , . o r g , .n e t , . ed u , e t c . ( e . g . , N e t w o rk S o l u t i o n s m a i n t a i n s s e r v e r s f o r . c o m T L D , E d u c a u s e f o r . ed u T L D ) , a n d • all t o p - le v e l c o u n t r y d o m ain s . uk , . fr , . c a , . jp , e t c . • Aut ho r i t a t i v e DNS s e r v e r s : pr o v i de a ut ho r i t a t i v e ho s t na m e t o I P m a p p i n g s f o r a n o r g a n i z a t i o n ’ s s u b d o m a i n s a n d s e r v e r s ( e . g . , W e b a n d ma i l ) • C a n b e m a i n t a i n e d b y o r g a n i z a t i o n o r s e r v i c e p r o v i d e r 11 CP S C 3 1 7 – Co m p u t er N e t w o r k i n g : Ap p l i c a t i o n La y e r - DN S Ma r y a m R . A l i a b a d i Wh o K n o w s Wh a t? • Ev e r y s e r v e r k n o w s t h e a d d r e s s o f t h e r o o t n a m e s e r v e r s • Ro o t s e r v e r s k n o w t h e a d d r e s s o f a l l T L D s e r v e r s • Ev e r y n o d e k n o w s t h e a d d r e s s e s o f i t s c h i l d r e n • An au t h o r i t at i v e DNS s e r v e r s t o r e s n a m e - to - ad d r e s s m ap p in g s (r e s o u r c e r e c o r d s ) f o r a l l n a m e s i n t h e d o m a i n t h a t i t h a s a u t h o r i t y fo r • T h e r e f o r e , e a c h s e r v e r : • St or e s on l y a su b se t of t h e t ot a l DNS d a t a b a se (sc a l a b l e ! ) 12 CP S C 3 1 7 – Co m p u t er N e t w o r k i n g : Ap p l i c a t i o n La y e r - DN S Ma r y a m R . A l i a b a d i Loc a l Na m e Se r v e r • Do e s n o t b e l o n g t o t h e h i e r a r ch y • E a c h I S P ( r e s i d e n t i a l I S P , c o m p a n y , u n i v e r s i t y ) h a s o n e • Al s o c a l l e d “ d e f a u l t n a m e s e r v e r ” • W h e n a h o s t m a k e s a D N S q u e r y , t h e q u e r y i s s e n t t o t h e l o c a l D N S se r v e r • A c t s a s a p r o x y , f o r w a r d s q u e r y i n t o h i e r a r c h y o f D N S s e r v e r s • L o c a l D N S s e r v e r r e s o l v e s q u e ri e s it e r a t iv e ly • Ea c h IS P ha s it s lo c al DNS na m e se r v e r . T o f i nd y o ur s: • Ma cOS: sc u t i l – dns • Windo w s : ipc o n f ig / all 13 CP S C 3 1 7 – Co m p u t er N e t w o r k i n g : Ap p l i c a t i o n La y e r - DN S Ma r y a m R . A l i a b a d i l o c a l D N S se r ve r dn s . pol y . e du r e q u e st i n g h o st ci s . p o l y . ed u ga i a . c s . u m a s s . e du r o o t D N S se r ve r 1 2 3 4 5 6 a u t h o r i t a t i ve D N S se r ve r ( u m a ss. e d u ) dn s . c s . u m a s s . e du 7 8 T L D D N S se r ve r ( edu ) DNS L OOK UPS 14 Ho s t a t cis .p oly .e d u wa n t s I P a d d r e s s f o r t h e d o m a i n ga i a . c s . u m a s s . e d u . • Ho s t c o n t act s lo c al D N S s er v er . • L o c a l D N S s e r v e r r e c ur s i v e l y c o n t a c t s t he r o o t s e r v e r a nd s ub s e que n t D N S s e r v e r s it er a tiv ely . • E a c h c o n t a c t e d s e r v e r r e pl i e s w i t h na m e o f ne x t s e r v e r t o c o n t a c t . • A ut ho r i t a t i v e s e r v e r r e t ur ns t he I P a ddr e s s o f t he r e que s t e d do m a i n. • L o c a l D N S s e r v e r r e t ur ns I P a ddr e s s t o t he ho s t . CP S C 3 1 7 – Co m p u t er N e t w o r k i n g : Ap p l i c a t i o n La y e r - DN S Ma r y a m R . A l i a b a d i DNS C a ch i n g • Ev e r y D N S r e q u e s t s t a r t i n g a t ro o t s e r v e rs à ro o t s e r v e r s w i l l b e a bo t t l e ne c k • So l u t i o n : c a ch i n g • L o c a l D N S s e r v e r s c a c h e r e s p o n s e s t o q u e ri e s • Re s p o n s e s i n c l u d e a “ ti me t o l i v e ” (T T L ) f i e l d • S e r v e r d e l e t e s c a c h e d e n t r y a f t e r T T L e x p i r e s • Ca c h i n g i s e f f e c t i v e b e c a u s e • Th e t o p - le v e l n am e s e r v e r s v e r y r ar e ly c h an g e • P o p u l a r s i t e s a r e v i s i t e d o f t e n à th e l o c a l D N S s e r v e r o f t e n h a s t h e i n f o rm a t i o n c a c h e d 15 CP S C 3 1 7 – Co m p u t er N e t w o r k i n g : Ap p l i c a t i o n La y e r - DN S Ma r y a m R . A l i a b a d i DNS Re c o r d s 16 typ e na m e va l u e ex am p l e A ( A d d r e ss) h o st n a m e I P v4 a d d r e ss ( w w w . c s. u b c . c a , A , 142.103.6.5, T T L AAAA ( A d d r e ss x 4 ) h o st n a m e I P v6 a d d r e ss ( www . g o o g l e . c o m , A A A A , 2607:f 8b 0:400a :80b ::2004, TTL ) NS ( N am e S e r ve r ) do m ai n na m e o f a u t h o r i t a t i ve DN S se r ve r f o r d o m a i n ( c s. u b c . c a , N S , f s1 . u g r a d . c s. u b c . c a , T T L ) CNA M E ( C an o n i cal NA M E ) al i as can o n i cal (r eal ) n am e ( foo. c om , CNA M E, se r ve r e a st . b a c k u p 2 . i b m . co m , T T L ) DN S st o r e s R e so u r c e R e c o r d s ( R R s) § RR form a t i s : (n am e, ty p e, v al u e, T T L ) CP S C 3 1 7 – Co m p u t er N e t w o r k i n g : Ap p l i c a t i o n La y e r - DN S Ma r y a m R . A l i a b a d i DNS P ro t o c o l M e s s a g e s 17 quer y an d rep l y m e s s a g e s , b o t h w i t h s a m e me s s a g e f o rma t id e n t if ic a t io n : 1 6 b i t # se t i n q u e r y , r e p l y u se s sa m e # f l a g s: q u e r y o r r e p l y , r e p l y i s a u t h o r i t a t i ve R e so u r c e r e c o r d s ( R R s) : < N a m e , T yp e , C l a ss, T T L , R D L E N G T H , R D A T A > § N a m e : a f u l l y q u a l i f i e d d o m a i n n a m e § T yp e : a va l i d R R t yp e ( e . g . , A , A A A A , . . . ) § C l a ss: m o st l y I N f o r i n t e r n e t a p p l i c a t i o n CP S C 3 1 7 – Co m p u t er N e t w o r k i n g : Ap p l i c a t i o n La y e r - DN S Ma r y a m R . A l i a b a d i Re s o u r c e Re c o r d s ( R R ) i n a q u e r y • Qu e s t i o n s a r e a l w a y s < N a m e , T y p e , C l a s s > t u p l e s • Th e q u e s t i o n i s t h e o n l y s e c t i o n in c lu d e d in a q u e r y 18 CP S C 3 1 7 – Co m p u t er N e t w o r k i n g : Ap p l i c a t i o n La y e r - DN S Ma r y a m R . A l i a b a d i Re s o u r c e Re c o r d s ( R R ) i n a r e p l y • An s w e r s ar e R R s t h a t m a t c h t h e N a m e , T y p e , C l a s s f r o m t h e que s t i o n • I f a D N S s e r v e r h a s C N A M E p o i n t e r s f o r t h e r e q u e s t e d q u e r y w i t h s a m e c l a s s , r e t u rn s C N A M E re c o r d s i n t h e a n s w e r • T h e r e m a y b e m u l t i p l e a n s w e r s , si n c e t h e r e m a y b e m u l t i p l e R R s wi th th e s a m e l a b e l s 19 CP S C 3 1 7 – Co m p u t er N e t w o r k i n g : Ap p l i c a t i o n La y e r - DN S Ma r y a m R . A l i a b a d i Re s o u r c e Re c o r d s ( R R ) i n a r e p l y • A u t h o r i t y RRs a r e ty p e N S r e c or d s p o i n t i n g t o n a m e s e r v e r s c l o s e r t o th e t a r g e t n a me i n th e n a mi n g hi e r a r c h y • Us e d t o r e d i r e ct th e cl i e n t t o a “b e t t e r ” s e r v e r • Th i s fi e l d i s o p t i o n a l 20 CP S C 3 1 7 – Co m p u t er N e t w o r k i n g : Ap p l i c a t i o n La y e r - DN S Ma r y a m R . A l i a b a d i Re s o u r c e Re c o r d s ( R R ) i n a r e p l y • Ad d i t i on a l RRs a r e r e c or d s th a t t h e n a m e s e r v e r b e l i e v e s m a y b e us e f ul t o t he c l i e n t • Mos t c om m on l y u se d to s u p p l y A o r A A A A ( a d d r e s s ) r e c o r d s f o r t h e na m e s e r v e r s l i s t e d i n t he A u t h o ri t y s e c t i o n 21 CP S C 3 1 7 – Co m p u t er N e t w o r k i n g : Ap p l i c a t i o n La y e r - DN S Ma r y a m R . A l i a b a d i Inser t ing r ec o r ds in t o D N S • E x a m p l e : I j u s t c r e a t e d t h e s t a r t u p “ N e t w o r k Ut o p i a ” • Re g i s t e r n a m e n e t w o r k u t o p i a . c o m a t a DN S re g i s t r a r ( e . g . , N e t w o r k S o l u t i o n s ) • I p r o v i d e r e g i s t r a r w i t h n a m e s a n d IP a d d r e s s e s o f m y a u t h o r i t a t i v e n a m e s e r v e r s ( p r i m a r y a n d se c o n d a r y ) • Re g i st r a r i n s e r t s t w o R R s i n t o t h e c o m T L D s e r v e r f o r e a c h a u t h o r i t a t i v e n a m e s e r v e r : (networkutopia.com, dns1.networkutopia.com, NS) (dns1.networkutopia.com, 212.212.212.1, A) (networkutopia.com, dns2.networkutopia.com, NS) (dns2.networkutopia.com, 212.212.212.2, A) • I n m y a u t h o r i t a t i v e s e r v e r s , a d d a T y p e A r e c o r d f o r www . n e t w o r k u t o p i a . c o m • ( networkutopia.com , 212.212.212.100, A) • H o w d o p e o p l e g e t t h e I P a d d r e s s o f m y W e b s i t e ? 22 CP S C 3 1 7 – Co m p u t er N e t w o r k i n g : Ap p l i c a t i o n La y e r - DN S Ma r y a m R . A l i a b a d i DNS De m o – Quer y a t R o o t N ame S er v er 23 CP S C 3 1 7 – Co m p u t er N e t w o r k i n g : Ap p l i c a t i o n La y e r - DN S Ma r y a m R . A l i a b a d i Ne x t St e p – Quer y a t T L D N ame S er v er 24 CP S C 3 1 7 – Co m p u t er N e t w o r k i n g : Ap p l i c a t i o n La y e r - DN S Ma r y a m R . A l i a b a d i Ne x t S t e p – Qu e r y a t A u th or it a tiv e N ame Ser v er 25 CP S C 3 1 7 – Co m p u t er N e t w o r k i n g : Ap p l i c a t i o n La y e r - DN S Ma r y a m R . A l i a b a d i Fi na l S t ep – Fi ndi ng t he IP A ddr ess 26 CP S C 3 1 7 – Co m p u t er N e t w o r k i n g : Ap p l i c a t i o n La y e r - DN S Ma r y a m R . A l i a b a d i D N S P ro t o c o l • Cl i e n t - S e r v e r i n t e r a c t i o n o n U D P P o rt 5 3 • M e s s a g e s i z e l i m i t e d b y m a x U D P s e g m e n t s i z e ( 5 1 2 b y t e s ) • F o r l a r g e r D N S m e s s a g e s , c o ul d us e E D N S • S pe c s uppo r t s T C P t o o , but no t a l w a y s i m pl e m e n t e d • R e l i a bi l i t y v i a r e pe a t i ng r e que s t s i f t he c l i e n t t i m e s o ut • Qu e r y a n d R e p l y m e s s a g e s • B o t h w i t h t he s a m e m e s s a g e f o r m a t • Re s o l u t i o n i s a l m o s t a l w ay s “ i t e r a t i v e ” 27 CP S C 3 1 7 – Co m p u t er N e t w o r k i n g : Ap p l i c a t i o n La y e r - DN S Ma r y a m R . A l i a b a d i In - cl a s s a cti v i ty • ICA 3 3 28 CP S C 3 1 7 – Co m p u t er N e t w o r k i n g : Ap p l i c a t i o n La y e r - DN S Ma r y a m R . A l i a b a d i Ne x t T o p i c : Ema i l 29","libVersion":"0.2.1","langs":""}