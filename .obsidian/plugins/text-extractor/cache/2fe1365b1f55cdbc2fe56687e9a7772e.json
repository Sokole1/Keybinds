{"path":".obsidian/plugins/text-extractor/cache/2fe1365b1f55cdbc2fe56687e9a7772e.json","text":"CP S C 3 1 3 Y8 6 St a c k • To p i c : • Us i n g s t a c k i n s t r u c t i o n s o n y 8 6 • Lear ni ng O bj ect i ves • Dr a w s t a c k d i a g r a m s • Us e P US HQ / P O P Q i n s t r u c t i o n s • Ex p l a i n h o w PU SH Q a n d PO PQ a r e i m p l e m e n t e d • Al l o c a t e s p a c e f o r t h e s t a c k • In i ti a l i z e th e s ta c k p o i n te r • Re a d i n g : • No n e w r e a d i n g 1 St a c k s ( i n H W ) CP S C 3 1 3 2 Pr o g r a m a n d d a t a ( h e a p a n d s t a t i c ) g r o w “ u p ” -- fr o m sm a l l e r a d d r e sse s to l a r g e r a d d r e sse s St a c k g r o w s “ d o w n ” -- fr o m l a r g e r a d d r e sse s to sm a l l e r a d d r e ss SP MA X _ A D D R y86 S t ack CP S C 3 1 3 3 % rs p 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0x 10A 8 0x1000 y86 S t ack ( P U S H Q ) CP S C 3 1 3 4 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0x 10A 8 0x1000 % rax % rsp %r8 %r12 % rcx % rbp %r9 %r13 % rdx % rsi %r10 %r14 % rbx % rdi %r11 2 - by t e i ns t r uc t i on A 0 rA F PU SH Q rA R[ % rs p ] = R [% rs p ] – 8 M 8 [R [% rs p ]] < - R[ % rA ] PU SH Q % ra x 2 - by t e i ns t r uc t i on A 0 0 F y86 S t ack ( P U S H Q ) CP S C 3 1 3 5 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0x 10A 8 0x1000 % rax % rsp %r8 %r12 % rcx % rbp %r9 %r13 % rdx % rsi %r10 %r14 % rbx % rdi %r11 2 - by t e i ns t r uc t i on A 0 rA F PU SH Q rA R[ % rs p ] = R [% rs p ] – 8 M 8 [R [% rs p ]] < - R[ % rA ] PU SH Q % ra x 2 - by t e i ns t r uc t i on A 0 0 F0x10A0 y86 S t ack ( P U S H Q ) CP S C 3 1 3 6 78 56 34 12 00 00 00 00 00 00 00 00 00 00 00 00 0x 10A 8 0x1000 % rax % rsp %r8 %r12 % rcx % rbp %r9 %r13 % rdx % rsi %r10 %r14 % rbx % rdi %r11 2 - by t e i ns t r uc t i on A 0 rA F PU SH Q rA R[ % rs p ] = R [% rs p ] – 8 M 8 [R [% rs p ]] < - R[ % rA ] PU SH Q % ra x 2 - by t e i ns t r uc t i on A 0 0 F 0x 123456780x10A0 y86 S t ack ( P O P Q ) CP S C 3 1 3 7 78 56 34 12 00 00 00 00 FE CA 00 00 00 00 00 00 ED FE 00 00 00 00 00 00 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0x 10A 8 0x1000 % rax % rsp %r8 %r12 % rcx % rbp %r9 %r13 % rdx % rsi %r10 %r14 % rbx % rdi %r11 2 - by t e i ns t r uc t i on B 0 rA F PO PQ rA R[ % rA ] < - M 8 [R [% rs p ]] R[ % rs p ] = R [% rs p ] + 8 PO PQ % ra x 2 - by t e i ns t r uc t i on B 0 0 F0x1088 y86 S t ack ( P O P Q ) CP S C 3 1 3 8 78 56 34 12 00 00 00 00 FE CA 00 00 00 00 00 00 ED FE 00 00 00 00 00 00 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0x 10A 8 0x1000 % rax % rsp %r8 %r12 % rcx % rbp %r9 %r13 % rdx % rsi %r10 %r14 % rbx % rdi %r11 2 - by t e i ns t r uc t i on B 0 rA F PO PQ rA R[ % rA ] < - M 8 [R [% rs p ]] R[ % rs p ] = R [% rs p ] + 8 PO PQ % ra x 2 - by t e i ns t r uc t i on B 0 0 F0x10880x1 y86 S t ack ( P O P Q ) CP S C 3 1 3 9 78 56 34 12 00 00 00 00 FE CA 00 00 00 00 00 00 ED FE 00 00 00 00 00 00 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0x 10A 8 0x1000 % rax % rsp %r8 %r12 % rcx % rbp %r9 %r13 % rdx % rsi %r10 %r14 % rbx % rdi %r11 2 - by t e i ns t r uc t i on B 0 rA F PO PQ rA R[ % rA ] < - M 8 [R [% rs p ]] R[ % rs p ] = R [% rs p ] + 8 PO PQ % ra x 2 - by t e i ns t r uc t i on B 0 0 F0x1090 Sw a p U s i n g t h e St a c k #Initialize the stack irmovq 0x2000, % rsp #Initialize rax and rbx irmovq 0x1234, % rax irmovq 0xCAFE, % rbx #Now, do the swap pushq % rax rrmovq % rbx , % rax popq % rbx CP S C 3 1 3 10","libVersion":"0.2.1","langs":""}