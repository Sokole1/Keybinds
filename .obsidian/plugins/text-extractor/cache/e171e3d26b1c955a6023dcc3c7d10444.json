{"path":".obsidian/plugins/text-extractor/cache/e171e3d26b1c955a6023dcc3c7d10444.json","text":"CPSC 317 Computer Networking Transport Layer Selective Repeat Maryam R.Aliabadi mraiyata@cs.ubc.ca 1CPSC 317 – Computer Networking : Transport Layer – Selective Repeat Maryam R.Aliabadi READING • Reading: 3.4.4 2CPSC 317 – Computer Networking : Transport Layer – Selective Repeat Maryam R.Aliabadi Learning goals Sliding Window Protocols • Given a range of sequence numbers determine if a set of sender and receiver window sizes is legal Selective-Repeat • Trace the execution of Selective-Repeat (SR) • Analyze SR under segment loss • Trace the execution of SR when the range of sequence numbers is restricted 3CPSC 317 – Computer Networking : Transport Layer – Selective Repeat Maryam R.Aliabadi Sequence Number Range • The range of possible sequence numbers is limited by n, the number of bits used to represent them • Example: 3 bits gets numbers 0-7, 8 bits gets numbers 0-255 • Sequence number arithmetic is modulo 2n (e.g., with n = 3 bits, the range is 0-7, so after 7 comes 0) • What is the maximum sender window size for the range 0-255? • Maybe easier to compute: what about range 0-3? • Can the receiver distinguish a new 0 from a resent old 0? 4CPSC 317 – Computer Networking : Transport Layer – Selective Repeat Maryam R.Aliabadi Sequence Number Range • Assume that segments can’t be re-ordered in the network • Rule: sender’s window size + receiver’s window size <= sequence number range • For a range with 𝑛 numbers (0 to 𝑛 − 1): • Go-Back-N: • receiver’s window size is 1 • sender’s maximum window size is 𝑛 − 1 • Why? 5CPSC 317 – Computer Networking : Transport Layer – Selective Repeat Maryam R.Aliabadi • N == 4, SWS == 3, RWS == 1 • Sender sends 0, 1, 2 • What is the sender window? • Receiver receives 0, 1, 2 sends ACKs for all of them • What is the receiver window? • All the ACKS are received • What is the sender window? • The sender sends 3, 4, 5 which have seq no. 3, 0, 1 • What does the receiver do? 6 What if SWS + RWS == n? (Scenario 1) [0, 1, 2] [3] [3, 0, 1] CPSC 317 – Computer Networking : Transport Layer – Selective Repeat Maryam R.Aliabadi • N == 4, SWS == 3, RWS == 1 • Sender sends 0, 1, 2 • What is the sender window? • Receiver receives 0, 1, 2 sends ACKs for all of them • What is the receiver window? • All the ACKS are lost • What is the sender window? • The sender times out and resends 0, 1, 2 • What does the receiver do? 7 What if SWS + RWS == n? (Scenario 2) [0, 1, 2] [3] [0, 1, 2] CPSC 317 – Computer Networking : Transport Layer – Selective Repeat Maryam R.Aliabadi • N == 4, SWS == 4, RWS == 1 • Sender sends 0, 1, 2, 3 • What is the sender window? • Receiver receives 0, 1, 2, 3 sends ACKs for all of them • What is the receiver window? • All the ACKS are received • What is the sender window? • The sender sends 4, 5, 6, 7 which have seq no. 0, 1, 2, 3 • What does the receiver do? 8 What if SWS + RWS > n? (Scenario 1) [0, 1, 2, 3] [0] [0, 1, 2, 3] CPSC 317 – Computer Networking : Transport Layer – Selective Repeat Maryam R.Aliabadi • N == 4, SWS == 4, RWS == 1 • Sender sends 0, 1, 2, 3 • What is the sender window? • Receiver receives 0, 1, 2, 3 sends ACKs for all of them • What is the receiver window? • All the ACKS are lost • What is the sender window? • The sender times out and resends 0, 1, 2, 3 • What does the receiver do? 9 What if SWS + RWS > n? (Scenario 2) [0, 1, 2, 3] [0] [0, 1, 2, 3] CPSC 317 – Computer Networking : Transport Layer – Selective Repeat Maryam R.Aliabadi GBN Summary • Pros • cumulative ACKs • ACKs with higher ACK# can make up for lost ACKs • Cons • RWS=1, prevents buffering • timeout causes resending all the way from the beginning of sender’s window 10CPSC 317 – Computer Networking : Transport Layer – Selective Repeat Maryam R.Aliabadi Selective-Repeat Strategy Receiver: • Each segment is ack’ed individually • Out of order segments are stored for later: receiver’s window Sender: • Can have a specific number of outstanding (unacknowledged) segments in memory: sender’s window • Each segment has its own timer • Each segment is individually resent if timeout is reached • ACKs received in order move the sender’s window 11CPSC 317 – Computer Networking : Transport Layer – Selective Repeat Maryam R.Aliabadi How Selective Repeat Works? 13 0 1 2 3 4 5 6 7 8 9 10 11 Sender Receiver Sliding window N=4 CPSC 317 – Computer Networking : Transport Layer – Selective Repeat Maryam R.Aliabadi How Selective Repeat Works? 0 1 2 3 4 5 6 7 8 9 10 11 14 Sender Receiver Sliding window N=4 0 1 2 3 CPSC 317 – Computer Networking : Transport Layer – Selective Repeat Maryam R.Aliabadi How Selective Repeat Works? 0 1 2 3 4 5 6 7 8 9 10 11 15 Sender Receiver Sliding window N=4 0 1 2 3 4 0 CPSC 317 – Computer Networking : Transport Layer – Selective Repeat Maryam R.Aliabadi How Selective Repeat Works? 0 1 2 3 4 5 6 7 8 9 10 11 16 Sender Receiver Sliding window N=4 0 1 2 3 4 5 0 1 CPSC 317 – Computer Networking : Transport Layer – Selective Repeat Maryam R.Aliabadi How Selective Repeat Works? 0 1 2 3 4 5 6 7 8 9 10 11 17 Sender Receiver Sliding window N=4 0 1 2 3 4 5 0 1 2 CPSC 317 – Computer Networking : Transport Layer – Selective Repeat Maryam R.Aliabadi How Selective Repeat Works? 0 1 2 3 4 5 6 7 8 9 10 11 18 Sender Receiver Sliding window N=4 0 1 2 3 4 5 2 0 1 2 3 CPSC 317 – Computer Networking : Transport Layer – Selective Repeat Maryam R.Aliabadi How Selective Repeat Works? 0 1 2 3 4 5 6 7 8 9 10 11 19 Sender Receiver Sliding window N=4 0 1 2 3 4 5 2 6 7 8 9 0 1 2 3 2 • Sender wont move the window before receiving ACK for every single sent segment • Please be noted that in this scenario, the only missing ACK is ACK2. So, once ACK2 is received (after retransmitting segment2), the sender will move the window to the next unsent segments (6,7,8,9) CPSC 317 – Computer Networking : Transport Layer – Selective Repeat Maryam R.Aliabadi Selective-Repeat Demo https://computerscience.unicam.it/marcantoni/reti/applet/SelectiveRe peatProtocol/selRepProt.html 20CPSC 317 – Computer Networking : Transport Layer – Selective Repeat Maryam R.Aliabadi Sequence Numbers for SR • Assume that segments can’t be re-ordered in the network • Rule: sender’s window size + receiver’s window size <= sequence number range • For a range with 𝑛 numbers (0 to 𝑛 − 1): • Selective-Repeat: • any values for window sizes that add up to n is fine • for same size on both sides, use Τ𝑛 2 • Why? 21CPSC 317 – Computer Networking : Transport Layer – Selective Repeat Maryam R.Aliabadi Clicker Question A sender is sending a lot of data to a receiver, and occasionally an ACK from the receiver is lost. Which strategy will suffer the LEAST from this lost ACK? A. Go-Back-N B. Selective-Repeat C. They will suffer the same 22CPSC 317 – Computer Networking : Transport Layer – Selective Repeat Maryam R.Aliabadi Clicker Answer A sender is sending a lot of data to a receiver, and occasionally an ACK from the receiver is lost. Which strategy will suffer the LEAST from this lost ACK? A. Go-Back-N B. Selective-Repeat C. They will suffer the same 23CPSC 317 – Computer Networking : Transport Layer – Selective Repeat Maryam R.Aliabadi Clicker Question A sender is sending a lot of data to a receiver, and occasionally a data segment from the sender is lost. Which strategy will suffer the LEAST from this lost data segment? A. Go-Back-N B. Selective-Repeat C. They will suffer the same 24CPSC 317 – Computer Networking : Transport Layer – Selective Repeat Maryam R.Aliabadi Clicker Answer A sender is sending a lot of data to a receiver, and occasionally a data segment from the sender is lost. Which strategy will suffer the LEAST from this lost data segment? A. Go-Back-N B. Selective-Repeat C. They will suffer the same 25CPSC 317 – Computer Networking : Transport Layer – Selective Repeat Maryam R.Aliabadi Sequence Number Range • What if segments can be re-ordered in the network? 26CPSC 317 – Computer Networking : Transport Layer – Selective Repeat Maryam R.Aliabadi Window Sizes • What is the impact of larger sender window size? • What is the impact of larger receiver window size? 27CPSC 317 – Computer Networking : Transport Layer – Selective Repeat Maryam R.Aliabadi In-class activity • ICA45 • Selective Repeat 28CPSC 317 – Computer Networking : Transport Layer – Selective Repeat Maryam R.Aliabadi Next Topic Congestion Control 29","libVersion":"0.2.1","langs":""}