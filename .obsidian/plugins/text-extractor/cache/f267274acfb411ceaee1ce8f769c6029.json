{"path":".obsidian/plugins/text-extractor/cache/f267274acfb411ceaee1ce8f769c6029.json","text":"CPSC 317 Computer Networking Network Layer Intra Domain Routing II Maryam R.Aliabadi mraiyata@cs.ubc.ca 1CPSC 317 – Computer Networking : Intra Domain Routing II Maryam R.Aliabadi Last Class Review : Link State • Each router tells every other router about the state of all of its directly connected links • This gives every router complete information about the entire network • Every so often, each router uses Dijkstra’s algorithm to find the shortest path to all the other routers • It then updates its forwarding table 2CPSC 317 – Computer Networking : Intra Domain Routing II Maryam R.Aliabadi Link State – Update Forwarding Table Dest Cost Prev B 3 A C 3 A D 4 A E 4 C F 4 C 3 Dest Link B LB C LC D LD E LC F LC CPSC 317 – Computer Networking : Intra Domain Routing II Maryam R.Aliabadi Shortest Path from B to the Others Dest Cost Prev A 3 B C 3 F D 6 E E 4 C F 2 B 4 Dest Link A LA C LF D LF E LF F LF CPSC 317 – Computer Networking : Intra Domain Routing II Maryam R.Aliabadi Learning Goals Intra-domain routing II • Explain what distance vector routing is • Execute the distance vector routing algorithm on a small graph of routers • Contrast link state and distance vector routing 5CPSC 317 – Computer Networking : Intra Domain Routing II Maryam R.Aliabadi Reading • Reading: 5.1, 5.2, 5.2.1, 5.2.2 6CPSC 317 – Computer Networking : Intra Domain Routing II Maryam R.Aliabadi Distance Vector • Every so often, each router (A) tells its neighbors about the cost of its best routes to the networks it knows about • A receiving router (B) checks to see if any of these routes would shorten their path to the destination • If so, it updates its forwarding table to forward through A • Like previous class, we’ll use the router as a proxy for the “stub” networks that are connected to it 7CPSC 317 – Computer Networking : Intra Domain Routing II Maryam R.Aliabadi Routers as proxies for networks 8CPSC 317 – Computer Networking : Intra Domain Routing II Maryam R.Aliabadi An Example Network Graph 9CPSC 317 – Computer Networking : Intra Domain Routing II Maryam R.Aliabadi Distance Vector – A’s view 10 A B C D E F A 0 3 3 4 - 6 B - - - - - - C - - - - - - D - - - - - - E - - - - - - F - - - - - - ▪ Each row represents the view of the corresponding router ▪ Each column indicates least-cost path of the node from the router of the row CPSC 317 – Computer Networking : Intra Domain Routing II Maryam R.Aliabadi Distance Vector – C’s view 11 A B C D E F A - - - - - - B - - - - - - C 3 - 0 - 1 1 D - - - - - - E - - - - - - F - - - - - - ▪ Each row represents the view of the corresponding router ▪ Each column indicates least-cost path of the node from the router of the row CPSC 317 – Computer Networking : Intra Domain Routing II Maryam R.Aliabadi Distance Vector – C sends to A 12 A B C D E F A 0 3 3 4 - 6 B - - - - - - C 3 - 0 - 1 1 D - - - - - - E - - - - - - F - - - - - - CPSC 317 – Computer Networking : Intra Domain Routing II Maryam R.Aliabadi Distance Vector – C sends to A 13 A B C D E F A 0 3 3 4 4 - C 6 B - - - - - - C 3 - 0 - 1 1 D - - - - - - E - - - - - - F - - - - - - CPSC 317 – Computer Networking : Intra Domain Routing II Maryam R.Aliabadi Distance Vector – C sends to A 14 A B C D E F A 0 3 3 4 4 - C 4 - C B - - - - - - C 3 - 0 - 1 1 D - - - - - - E - - - - - - F - - - - - - CPSC 317 – Computer Networking : Intra Domain Routing II Maryam R.Aliabadi Distance Vector – Initial State 15 A B C D E F A 0 3 3 4 - 6 B 3 0 - - - 2 C 3 - 0 - 1 1 D 4 - - 0 2 - E - - 1 2 0 - F 6 2 1 - - 0 Each router sends (a subset) of its table to its neighbors CPSC 317 – Computer Networking : Intra Domain Routing II Maryam R.Aliabadi Distance Vector – Round 1 16 A B C D E F A 0 3 3 4 4 – C 4 – C B 3 0 3 – F 7 – A - 2 C 3 3 – F 0 3 – E 1 1 D 4 7 – A 3 – E 0 2 10-A E 4 – C - 1 2 0 2 - C F 4 - C 2 1 10-A 2 - C 0 Each router updates its table based on least-cost paths from neighbors, then resend their tables CPSC 317 – Computer Networking : Intra Domain Routing II Maryam R.Aliabadi Distance Vector – Round 2 17 A B C D E F A 0 3 3 4 4 – C 4 – C B 3 0 3 – F 7 – A 4 - F 2 C 3 3 – F 0 3 – E 1 1 D 4 7 – A 3 – E 0 2 4 - E E 4 – C 4 - C 1 2 0 2 - C F 4 - C 2 1 4 - C 2 - C 0 Each router updates its table based on least-cost paths from neighbors, then resend their tables CPSC 317 – Computer Networking : Intra Domain Routing II Maryam R.Aliabadi Distance Vector – Round 3 18 A B C D E F A 0 3 3 4 4 – C 4 – C B 3 0 3 – F 6 - F 4 - F 2 C 3 3 – F 0 3 – E 1 1 D 4 6 - E 3 – E 0 2 4 - E E 4 – C 4 - C 1 2 0 2 - C F 4 - C 2 1 4 - C 2 - C 0 Each router updates its table based on least-cost paths from neighbors, then resend their tables CPSC 317 – Computer Networking : Intra Domain Routing II Maryam R.Aliabadi Distance Vector – Round 4 19 A B C D E F A 0 3 3 4 4 – C 4 – C B 3 0 3 – F 6 - F 4 - F 2 C 3 3 – F 0 3 – E 1 1 D 4 6 - E 3 – E 0 2 4 - E E 4 – C 4 - C 1 2 0 2 - C F 4 - C 2 1 4 - C 2 - C 0 No more updates CPSC 317 – Computer Networking : Intra Domain Routing II Maryam R.Aliabadi Clicker question Assuming no links change cost, how many distance vector iterations (every router sending all its routes to all of its neighbours) does it take before the routes are guaranteed to converge? A. Number of routers B. Number of links C. Diameter of the graph D. None of the above 20CPSC 317 – Computer Networking : Intra Domain Routing II Maryam R.Aliabadi How does this compare to link state? 22 Dest Cost Prev B 3 A C 3 A D 4 A E 4 C F 4 C Done: A B C F D E CPSC 317 – Computer Networking : Intra Domain Routing II Maryam R.Aliabadi Link State Vs Distance Vector • Information exchanged • Update triggers • Convergence • Scalability 23CPSC 317 – Computer Networking : Intra Domain Routing II Maryam R.Aliabadi Forwarding loops • If the cost of a link decreases, nothing bad happens • But if the cost of a link increases, forwarding loops can be created 24CPSC 317 – Computer Networking : Intra Domain Routing II Maryam R.Aliabadi Creating a Forwarding loop 25CPSC 317 – Computer Networking : Intra Domain Routing II Maryam R.Aliabadi Avoiding Loops – Poisoned Reverse • If F routes to A through C, it advertises to C that its cost for A is infinity • Works for loops involving 2 routers • Doesn’t work for loops involving more than 2 routers 26CPSC 317 – Computer Networking : Intra Domain Routing II Maryam R.Aliabadi OSPF (Open-Shortest-Path-First) • Currently most used IGP in the Internet • A link state protocol • Supports a number of extensions • Areas – to support hierarchy (and improve scaling) • More scalable updates • Runs over IP (protocol number 89) 27CPSC 317 – Computer Networking : Intra Domain Routing II Maryam R.Aliabadi In-class activity • Explore Distance Vector updates 28CPSC 317 – Computer Networking : Intra Domain Routing II Maryam R.Aliabadi Next Topic: Inter Routing Protocols 29","libVersion":"0.2.1","langs":""}