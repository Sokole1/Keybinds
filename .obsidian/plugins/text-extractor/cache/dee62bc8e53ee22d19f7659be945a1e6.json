{"path":".obsidian/plugins/text-extractor/cache/dee62bc8e53ee22d19f7659be945a1e6.json","text":"CP S C 3 1 3 Y8 6 St a c k Fr a m e s • To p i c s • Ho w d o p r o c e d u r e s o r g a n i z e d a t a s u c h a s l o c a l v a r i a b l e s , re t u rn a d d re s s e s , e t c . ? • Lear ni ng O bj ect i ves • Dr a w a s t a c k f r a m e i l l u s t r a t i n g h o w s t a c k f r a m e s a r e es t abl i s hed af t er a f unc t i on c al l . • Im p l e m e n t c o n s tr u c ti o n a n d te a r d o w n o f a c a l l fr a m e . 1 Us i n g t h e S t a c k • CA L L : Us e s t h e s t a c k t o s t o r e a r e t u r n a d d r e s s • We a l s o u s e t h e s t a c k t o : • Tr a n s mi t p a r a me t e r s ( i f w e c a n n o t u s e r e g i s t e r s ) • St o r e l o c a l v a r i a b l e s • Th e s t r u c t u r e w e u s e t o s t o r e t h i s i n f o r m a t i o n i s cal l ed a st ack f r am e. CP S C 3 1 3 2Caller’sreturn addrCallee’sreturn addr St a c k Fr a m e s CP S C 3 1 3 3 St a c k Fr a m e s Ca l l e r ’ s f r a m e (e . g . , m a i n ) Ca l l e e ’ s fr a m e (e . g . , s u m ) St a c k g r o ws t h i s wa y Ca l l e r ’ s Loc al Va r i a b l e s St a c k par amet er s (i f a n y ) Ca l l e e ’ s Loc al Va r i a b l e s St a c k Fr a m e s : n o Ba s e Po i n t e r ( 1 ) CP S C 3 1 3 4 % rs pCaller’sreturn addrCallee’sreturn addr Ca l l e r ’ s Loc al Va r i a b l e s St a c k par amet er s (i f a n y ) St a c k F r a m e Se t u p : n o Ba s e Po i n t e r ( 2 ) CP S C 3 1 3 5 % rs pCaller’sreturn addrCallee’sreturn addr Ca l l e r ’ s Loc al Va r i a b l e s St a c k par amet er s (i f a n y ) ir m o v q 0x20, % ra x subq % ra x , % rs pCaller’sreturn addrCallee’sreturn addr St a c k F r a m e Se t u p : n o Ba s e Po i n t e r ( 3 ) CP S C 3 1 3 6 % rs p Ca l l e r ’ s Loc al Va r i a b l e s St a c k par amet er s (i f a n y ) ir m o v q 0x20, % ra x subq % ra x , % rs p Ca l l e e ’ s Loc al Va r i a b l e sCaller’sreturn addrCallee’sreturn addr St a c k F r a m e Se t u p : n o Ba s e Po i n t e r ( 4 ) CP S C 3 1 3 7 % rs p Ca l l e r ’ s Loc al Va r i a b l e s St a c k par amet er s (i f a n y ) ir m o v q 0x20, % ra x subq % ra x , % rs p Ca l l e e ’ s Loc al Va r i a b l e sCaller’sreturn addrCallee’sreturn addr St a c k F r a m e Se t u p : n o Ba s e Po i n t e r ( 5 ) CP S C 3 1 3 8 % rs p Ca l l e r ’ s Loc al Va r i a b l e s St a c k par amet er s (i f a n y ) Ca l l e e ’ s Loc al Va r i a b l e s Bo t h l o c a l v a r i a b l e s a n d st ack par am et er s ( i f any) ar e r ef er enced by posi t i ve of f set s f r om t he st ack poi nt erCaller’sreturn addrCallee’sreturn addr St a c k F r a m e T e a r d o wn : n o Ba s e Po i n t e r ( 6 ) CP S C 3 1 3 9 % rs p Ca l l e r ’ s Loc al Va r i a b l e s St a c k par amet er s (i f a n y ) Ca l l e e ’ s Loc al Va r i a b l e s ir m o v q 0x20, % rb x addq % rb x , % rs pCaller’sreturn addrCallee’sreturn addr St a c k F r a m e T e a r d o wn : n o Ba s e Po i n t e r ( 7 ) CP S C 3 1 3 10 % rs p Ca l l e r ’ s Loc al Va r i a b l e s St a c k par amet er s (i f a n y ) Ca l l e e ’ s Loc al Va r i a b l e s ir m o v q 0x20, % rb x addq % rb x , % rs pCaller’sreturn addrCallee’sreturn addr St a c k F r a m e : n o Ba s e Po i n t e r ( 8 ) CP S C 3 1 3 11 % rs p Ca l l e r ’ s Loc al Va r i a b l e s St a c k par amet er s (i f a n y ) Ca l l e e ’ s Loc al Va r i a b l e s ir m o v q 0x10, % rb x addq % rb x , % rs pCaller’s return addrSaved RBP St a c k F r a m e s : wi t h Ba s e Po i n t e r ( 1 ) CP S C 3 1 3 12 % rs p Ca l l e r ’ s Loc al Va r i a b l e s % rb pCaller’s return addrSaved RBPCallee’s return addr St a c k F r a m e Se t u p : wi t h Ba s e Po i n t e r ( 2 ) CP S C 3 1 3 13 % rs p Ca l l e r ’ s Loc al Va r i a b l e s % rb pCaller’s return addrSaved RBPCallee’s return addrSaved RBP St a c k F r a m e Se t u p : wi t h Ba s e Po i n t e r ( 3 ) CP S C 3 1 3 14 % rs p Ca l l e r ’ s Loc al Va r i a b l e s % rb p pushq % rb pCaller’s return addrSaved RBPCallee’s return addrSaved RBP St a c k F r a m e Se t u p : wi t h Ba s e Po i n t e r ( 4 ) CP S C 3 1 3 15 % rs p Ca l l e r ’ s Loc al Va r i a b l e s % rb p pushq % rb p rrm o v q % rs p , % rb pCaller’s return addrSaved RBPCallee’s return addrSaved RBP St a c k F r a m e Se t u p : wi t h Ba s e Po i n t e r ( 5 ) CP S C 3 1 3 16 % rs p Ca l l e r ’ s Loc al Va r i a b l e s % rb p pushq % rb p rrm o v q % rs p , % rb p ir m o v q 0x20, % r 10 subq %r 1 0 , % rs p Ca l l e e ’ s Loc al Va r i a b l e sCaller’s return addrSaved RBPCallee’s return addrSaved RBP St a c k F r a m e s : wi t h Ba s e Po i n t e r ( 6 ) CP S C 3 1 3 17 % rs p Ca l l e r ’ s Loc al Va r i a b l e s % rb p Ca l l e e ’ s Loc al Va r i a b l e s Ac c e s s l o c a l s a s n e g a t i v e o f f s e t s fr o m % rb p Ac c e s s s t a c k p a r a m e t e r s ( i f a n y ) as posi t i ve of f set s f r om % rb pCaller’s return addrSaved RBPCallee’s return addrSaved RBP St a c k F r a m e T e a r d o w n : wi th Ba s e Po i n t e r ( 7 ) CP S C 3 1 3 18 % rs p Ca l l e r ’ s Loc al Va r i a b l e s % rb p Ca l l e e ’ s Loc al Va r i a b l e s ir m o v q 0x20, % r 10 addq %r 1 0 , % rs pCaller’s return addrSaved RBPCallee’s return addrSaved RBP St a c k F r a m e T e a r d o w n : wi th Ba s e Po i n t e r ( 8 ) CP S C 3 1 3 19 % rs p Ca l l e r ’ s Loc al Va r i a b l e s % rb p Ca l l e e ’ s Loc al Va r i a b l e s ir m o v q 0x20, % r 10 addq %r 1 0 , % rs p popq % rb pCaller’s return addrSaved RBPCallee’s return addrSaved RBP St a c k F r a m e T e a r d o w n : wi th Ba s e Po i n t e r ( 9 ) CP S C 3 1 3 20 % rs p Ca l l e r ’ s Loc al Va r i a b l e s % rb p Ca l l e e ’ s Loc al Va r i a b l e s ir m o v q 0x20, % r 10 addq %r 1 0 , % rs p popq % rb p re t","libVersion":"0.2.1","langs":""}