{"path":".obsidian/plugins/text-extractor/cache/907b48815c2977e4048f154d98632fe4.json","text":"CPSC 317 Computer Networking Transport Layer Windowing Protocols Maryam R.Aliabadi mraiyata@cs.ubc.ca 1CPSC 317 â€“ Computer Networking : Transport Layer â€“ Windowing Protocols Maryam R.Aliabadi Windowing Protocol 2CPSC 317 â€“ Computer Networking : Transport Layer â€“ Windowing Protocols Maryam R.Aliabadi READING â€¢ Reading: 3.4.2, 3.4.3, 3.4.4 3CPSC 317 â€“ Computer Networking : Transport Layer â€“ Windowing Protocols Maryam R.Aliabadi Learning goals Sliding Window Protocols â€¢ Determine an appropriate window size â€¢ Trace the execution of Go-Back-N (GBN) â€¢ Trace the execution of Selective-Repeat (SR) â€¢ Analyze GBN and SR under segment loss â€¢ Trace the execution of GBN and SR when the range of sequence numbers is restricted â€¢ Given a range of sequence numbers determine if a set of sender and receiver window sizes is legal 4CPSC 317 â€“ Computer Networking : Transport Layer â€“ Windowing Protocols Maryam R.Aliabadi Alternating Bit Protocol In Practice â€¢ Assume a connection from Vancouver to Montreal â€¢ Two-way propagation delay is 30 ms â€¢ Link speed (bandwidth) is 1Gbps â€¢ Segment size is 1000 bytes, including overhead â€¢ How much of the link bandwidth are we actually using? â€¢ Transmission delay, one segment: 8000 109 = 0.008 ğ‘šğ‘  â€¢ Throughput: 8000 30+0.008 = 0.267 ğ‘€ğ‘ğ‘ğ‘  â€¢ Link bandwidth utilization: 0.267 1000 = 0.00027 (or 0.027%) 5CPSC 317 â€“ Computer Networking : Transport Layer â€“ Windowing Protocols Maryam R.Aliabadi Sending multiple segments â€¢ Sender can send multiple segments â€¢ Donâ€™t wait for each acknowledgement 6CPSC 317 â€“ Computer Networking : Transport Layer â€“ Windowing Protocols Maryam R.Aliabadi Clicker question â€¢ Assume a connection from Vancouver to Montreal â€¢ Two-way propagation delay is 30 ms â€¢ Link speed (bandwidth) is 1Gbps â€¢ Segment size is 1000 bytes, including overhead â€¢ How many segments do I need to have going at once to get the utilization up to 1%? I want an integer! 7CPSC 317 â€“ Computer Networking : Transport Layer â€“ Windowing Protocols Maryam R.Aliabadi Why no finite state machine? â€¢ When we allow multiple segments in flight, modelling this with a finite state machine is less than ideal â€¢ Why? 10CPSC 317 â€“ Computer Networking : Transport Layer â€“ Windowing Protocols Maryam R.Aliabadi Windowing Protocols: The basic idea â€¢ Sender sends a bunch of segments before waiting for an ACK â€¢ How many? â€¢ Expand sequence numbers to integers to account for multiple in- transit and unacknowledged packets â€¢ Any or all of these segments might get lost â€¢ Sender has to be ready to re-send any segments that get lost â€¢ Buffer in-transit segments until acknowledged â€¢ Receiver has to be ready to handle segments arriving out of order â€¢ Buffer segments received out of order under â€œgapsâ€ filled 11CPSC 317 â€“ Computer Networking : Transport Layer â€“ Windowing Protocols Maryam R.Aliabadi Senderâ€™s Window â€¢ Senderâ€™s window: range of segments that are stored for potential re- send â€¢ Usually considered to be fixed size â€¢ Window only moves when the first segment in the window is acknowledged â€¢ What if other ACKs are received? â€¢ New segments are sent only when they â€œfitâ€ in the window 12CPSC 317 â€“ Computer Networking : Transport Layer â€“ Windowing Protocols Maryam R.Aliabadi Receiverâ€™s Window â€¢ Receiverâ€™s window: store segments received out of order â€¢ (Out of order because of drops or re-ordering in the network) â€¢ If window is 1 segment: out of order segments are dropped â€¢ Once missing segments arrive, window is processed â€¢ Segments received beyond the window limit will be discarded 13CPSC 317 â€“ Computer Networking : Transport Layer â€“ Windowing Protocols Maryam R.Aliabadi In a perfect world â€¦ â€¢ Assume: â€¢ It takes 1 time unit for the sender to transmit each segment â€¢ It takes 2 time units for a bit to get from the sender to the receiver or from the receiver to the sender â€¢ No segments are ever lost or delayed â€¢ How large of a sender window do we need to enable the sender to keep sending all the time? 14CPSC 317 â€“ Computer Networking : Transport Layer â€“ Windowing Protocols Maryam R.Aliabadi Clicker question â€¢ Assume: â€¢ It takes 1 time unit for the sender to transmit each segment â€¢ It takes 2 time units for a bit to get from the sender to the receiver or from the receiver to the sender â€¢ No segments are ever lost or delayed â€¢ How large of a sender window do we need to enable the sender to keep sending all the time? 15CPSC 317 â€“ Computer Networking : Transport Layer â€“ Windowing Protocols Maryam R.Aliabadi Clicker answer 16 Sender Receiver 0 1 2 3 4 5 6 7 8 0 1 2 3 4 5 6 7 8 CPSC 317 â€“ Computer Networking : Transport Layer â€“ Windowing Protocols Maryam R.Aliabadi Problems to Consider â€¢ Sender â€¢ How does the sender know that data got lost? â€¢ Can lost data be distinguished from a lost ACK? â€¢ If we send more than one segment, how many segments can we remember? â€¢ Receiver â€¢ How can you tell if data is out-of-order or missing? â€¢ What should be ACKed? 17CPSC 317 â€“ Computer Networking : Transport Layer â€“ Windowing Protocols Maryam R.Aliabadi Go-Back-N Strategy Receiver: â€¢ Window of size 1 â€¢ When a segment is received, send an ACK for the last segment that was received in order â€¢ Deliver the arriving segment if received in order, otherwise discard the segment Sender: â€¢ Senderâ€™s window determines the number of outstanding (unacknowledged) segments held in memory â€¢ Start timer on first segment sent â€¢ Received ACKs may be cumulative (re-start timer on receipt) â€¢ On timeout go to last unACKâ€™ed segment and re-send everything (re-start timer) 18CPSC 317 â€“ Computer Networking : Transport Layer â€“ Windowing Protocols Maryam R.Aliabadi How GBN Works? 19 0 1 2 3 4 5 6 7 8 9 10 11 Sender Receiver Sliding window N=4 CPSC 317 â€“ Computer Networking : Transport Layer â€“ Windowing Protocols Maryam R.Aliabadi How GBN Works? 0 1 2 3 4 5 6 7 8 9 10 11 20 Sender Receiver Sliding window N=4 0 1 2 3 CPSC 317 â€“ Computer Networking : Transport Layer â€“ Windowing Protocols Maryam R.Aliabadi How GBN Works? 0 1 2 3 4 5 6 7 8 9 10 11 21 Sender Receiver Sliding window N=4 0 1 2 3 4 0 CPSC 317 â€“ Computer Networking : Transport Layer â€“ Windowing Protocols Maryam R.Aliabadi How GBN Works? 0 1 2 3 4 5 6 7 8 9 10 11 22 Sender Receiver Sliding window N=4 0 1 2 3 4 5 0 1 CPSC 317 â€“ Computer Networking : Transport Layer â€“ Windowing Protocols Maryam R.Aliabadi How GBN Works? 0 1 2 3 4 5 6 7 8 9 10 11 23 Sender Receiver Sliding window N=4 0 1 2 3 4 5 0 1 2 CPSC 317 â€“ Computer Networking : Transport Layer â€“ Windowing Protocols Maryam R.Aliabadi How GBN Works? 0 1 2 3 4 5 6 7 8 9 10 11 24 Sender Receiver Sliding window N=4 0 1 2 3 4 5 2 3 4 5 0 1 2 CPSC 317 â€“ Computer Networking : Transport Layer â€“ Windowing Protocols Maryam R.Aliabadi How GBN Works? 0 1 2 3 4 5 6 7 8 9 10 11 25 Sender Receiver Sliding window N=4 0 1 2 3 4 5 0 1 2 3 CPSC 317 â€“ Computer Networking : Transport Layer â€“ Windowing Protocols Maryam R.Aliabadi Go-Back-N Demo https://media.pearsoncmg.com/aw/ecs_kurose_compnetwork_7/cw/content/inter activeanimations/go-back-n-protocol/index.html 26CPSC 317 â€“ Computer Networking : Transport Layer â€“ Windowing Protocols Maryam R.Aliabadi Sequence Number Range â€¢ The range of possible sequence numbers is limited by n, the number of bits used to represent them â€¢ Example: 3 bits gets numbers 0-7, 8 bits gets numbers 0-255 â€¢ Sequence number arithmetic is modulo 2n (e.g., with n = 3 bits, the range is 0-7, so after 7 comes 0) â€¢ What is the maximum sender window size for the range 0-255? â€¢ Maybe easier to compute: what about range 0-3? â€¢ Can the receiver distinguish a new 0 from a resent old 0? 27CPSC 317 â€“ Computer Networking : Transport Layer â€“ Windowing Protocols Maryam R.Aliabadi Sequence number Range â€¢ Assume that segments canâ€™t be re-ordered in the network â€¢ Rule: senderâ€™s window size + receiverâ€™s window size <= sequence number range â€¢ For a range with ğ‘› numbers (0 to ğ‘› âˆ’ 1): â€¢ Go-Back-N: â€¢ receiverâ€™s window size is 1 â€¢ senderâ€™s maximum window size is ğ‘› âˆ’ 1 â€¢ Why? 28CPSC 317 â€“ Computer Networking : Transport Layer â€“ Windowing Protocols Maryam R.Aliabadi In-class activity â€¢ ICA44 29CPSC 317 â€“ Computer Networking : Transport Layer â€“ Windowing Protocols Maryam R.Aliabadi Next Topic Selective Repeat 30","libVersion":"0.2.1","langs":""}